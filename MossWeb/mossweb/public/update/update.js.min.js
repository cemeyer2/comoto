var popupStatusUpdate=0;var update=function(){var b="/update/update";var a=window.location.hostname;if(a==="comoto.cs.illinois.edu"){b="/comoto"+b}reportLoadingStatusUpdate("Updating CoMoTo...");showLoadingPopup();$.ajax({url:b,data:{},type:"POST",dataType:"text",error:function(d){function c(){hideLoadingPopup();window.location.reload()}setTimeout(c,20000)},success:function(d){function c(){hideLoadingPopup();window.location.reload()}setTimeout(c,20000)}})};function centerLoadingPopup(){var b=$("#loadingPopup").height();var a=$("#loadingPopup").width();$("#loadingPopupUpdate").css({position:"absolute",top:window.innerHeight/2-b/2,left:window.innerWidth/2-a/2});$("#backgroundPopupUpdate").css({width:window.innerWidth,height:window.innerHeight})}function showLoadingPopup(){centerLoadingPopup();if(popupStatusUpdate===0){$("#preloadMessageUpdate").fadeOut("fast");$("#backgroundPopupUpdate").fadeIn("fast");$("#loadingPopupUpdate").fadeIn("fast");popupStatusUpdate=1}}function hideLoadingPopup(){if(popupStatusUpdate===1){$("#backgroundPopupUpdate").fadeOut("fast");$("#loadingPopupUpdate").fadeOut("fast");popupStatusUpdate=0}}function reportLoadingStatusUpdate(a){$("#loadingErrorBoxUpdate").hide();$("#okButtonUpdate").hide();$("#loadingStatusBoxUpdate").show();$("#loadingStatusUpdate").html(a)};