var graphControls={includePastSemesters:false,includeSingletons:false,includePartnerEdges:true,includeSolution:true,anonymousGraph:true,minimumEdgeWeight:0,useFisheye:false};function initializeControls(){var f=function(i,j){graphControls.minimumEdgeWeight=j.value;$("#updateGraphButton").attr("disabled",false)};var h=function(){graphControls.includePastSemesters=this.checked;$("#updateGraphButton").attr("disabled",false)};var c=function(){graphControls.includeSingletons=this.checked;$("#updateGraphButton").attr("disabled",false)};var e=function(){graphControls.includePartnerEdges=this.checked;$("#updateGraphButton").attr("disabled",false)};var b=function(){graphControls.includeSolution=this.checked;$("#updateGraphButton").attr("disabled",false)};var a=function(){graphControls.anonymousGraph=this.checked;$("#updateGraphButton").attr("disabled",false)};var g=function(i,j){$("#currentMinimumEdgeWeight").text(j.value)};var d=function(){graphControls.useFisheye=this.checked;$("#updateGraphButton").attr("disabled",false)};$("#minimumEdgeWeightSlider").slider({min:0,max:100,disabled:true,stop:f,slide:g,change:g});$("#includePastSemestersCheckbox").change(h);$("#includeSingletonsCheckbox").change(c);$("#includePartnerEdgesCheckbox").change(e);$("#includeSolutionCheckbox").change(b);$("#anonymousGraphCheckbox").change(a);$("#useFisheyeCheckbox").change(d);$("#right-sidebar *").attr("disabled",true)}function enableControls(){$("#right-sidebar *").attr("disabled",false);$("#minimumEdgeWeightSlider").slider("option","disabled",false);$("#updateGraphButton").attr("disabled",true)}function hideLegend(){$("#legend").hide()}function showLegend(){var d="<table cellpadding='5'>";for(var c in groupIds){var b;if(c>=0){b=offerings[c].semester.season+" "+offerings[c].semester.year}else{b="Solution"}d+="<tr><td><svg height=10 width=10><circle cx='5' cy='5' style='fill: "+fillNode({group:c})+"' r='5'></circle></svg></td><td>"+b+"</td></tr>"}d+="<tr><td><svg height=10 width=10><circle cx='5' cy='5' style='fill: "+fillNode({hasSolutionMatch:true,hasCrossSemesterMatch:true})+"' r='5'></circle></svg></td><td>Matches Solution <i>and</i> Other Semester</td></tr>";d+="<tr><td><svg height=10 width=10><circle cx='5' cy='5' style='fill: "+fillNode({hasSolutionMatch:true,hasCrossSemesterMatch:false})+"' r='5'></circle></svg></td><td>Matches Solution</td></tr>";d+="<tr><td><svg height=10 width=10><circle cx='5' cy='5' style='fill: "+fillNode({hasSolutionMatch:false,hasCrossSemesterMatch:true,offering_id:currentOfferingId})+"' r='5'></circle></svg></td><td>Matches Other Semester</td></tr>";d+="</table>";var a="<table cellpadding='5'>";if(graphControls.includePartnerEdges){a+="<tr><td><svg height=10 width=10><line class='link' style=\"stroke-width: 3px; stroke-opacity: 1.0; stroke:"+colorMatchEdge({isSolutionMatch:false,isPartnerMatch:true,isCrossSemesterMatch:false})+";\" x1='1' x2='10' y1='5' y2='5'></line></svg></td><td>Partner Matches</td></tr>"}if(graphControls.includeSolution){a+="<tr><td><svg height=10 width=10><line class='link' style=\"stroke-width: 3px; stroke-opacity: 1.0; stroke:"+colorMatchEdge({isSolutionMatch:true,isPartnerMatch:false,isCrossSemesterMatch:false})+";\" x1='1' x2='10' y1='5' y2='5'></line></svg></td><td>Solution Matches</td></tr>"}if(graphControls.includePastSemesters){a+="<tr><td><svg height=10 width=10><line class='link' style=\"stroke-width: 3px; stroke-opacity: 1.0; stroke:"+colorMatchEdge({isSolutionMatch:false,isPartnerMatch:false,isCrossSemesterMatch:true})+";\" x1='1' x2='10' y1='5' y2='5'></line></svg></td><td>Cross-Semester Matches</td></tr>"}$("#legend .post").html(d+a);$("#legend").fadeIn("fast")}var exportImage=function(){var b=new XMLSerializer();var a=b.serializeToString($("svg")[0]);$("#exportSVG").val(a);$("#exportForm").submit()};